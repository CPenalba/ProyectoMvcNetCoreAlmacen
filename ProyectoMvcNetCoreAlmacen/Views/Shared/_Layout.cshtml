@{
	var tiendaId = ViewContext.HttpContext.Session.GetInt32("TiendaId");
	var isLoginPage = ViewContext.RouteData.Values["Action"]?.ToString() == "Login" && ViewContext.RouteData.Values["Controller"]?.ToString() == "Account";
}

<!DOCTYPE html>
<html lang="en">
<head>

	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">

	<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
	<link rel="shortcut icon" href="https://r.mobirisesite.com/1228755/assets/images/electronicdevice1.png?rnd=1740240563997" type="image/x-icon">
	<meta name="description" content="">
	<title>ProyectoMvcNetCoreAlmacen</title>
	<link rel="stylesheet" href="https://r.mobirisesite.com/1228755/assets/web/assets/mobirise-icons2/mobirise2.css?rnd=1740240563993">
	<link rel="stylesheet" href="https://r.mobirisesite.com/1228755/assets/web/assets/mobirise-icons/mobirise-icons.css?rnd=1740240563993">
	<link rel="stylesheet" href="https://r.mobirisesite.com/1228755/assets/tether/tether.min.css?rnd=1740240563993">
	<link rel="stylesheet" href="~/css/additional.css">
	<link rel="stylesheet" href="https://r.mobirisesite.com/1228755/assets/bootstrap/css/bootstrap-grid.min.css?rnd=1740240563993">
	<link rel="stylesheet" href="https://r.mobirisesite.com/1228755/assets/bootstrap/css/bootstrap-reboot.min.css?rnd=1740240563993">
	<link rel="stylesheet" href="https://r.mobirisesite.com/1228755/assets/dropdown/css/style.css?rnd=1740240563993">
	<link rel="stylesheet" href="https://r.mobirisesite.com/1228755/assets/socicon/css/styles.css?rnd=1740240563993">
	<link rel="stylesheet" href="https://r.mobirisesite.com/1228755/assets/theme/css/style.css?rnd=1740240563993">
	<link rel="stylesheet" href="https://r.mobirisesite.com/1228755/assets/recaptcha.css?rnd=1740240563993">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/open-iconic/1.1.1/font/css/open-iconic-bootstrap.min.css">
	<link rel="preload" href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&display=swap&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
	<noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&display=swap&display=swap"></noscript>
	<link rel="stylesheet" href="~/css/estilonav.css" type="text/css">

	<style>
		<!-- Estilos CSS avanzados para los menús dropdown -->
		<style >
		/* Mejora general del menú de navegación */
		.navbar-nav {
			display: flex;
			align-items: center;
		}

		/* Estilos para elementos dropdown */
		.navbar-nav .nav-item.dropdown {
			position: relative;
		}

			.navbar-nav .nav-item.dropdown > .nav-link {
				position: relative;
				padding: 0.8rem 1.2rem;
				transition: all 0.3s ease;
				border-radius: 4px;
			}

				.navbar-nav .nav-item.dropdown > .nav-link:hover {
					background-color: rgba(255, 255, 255, 0.1);
				}

				/* Indicador de dropdown mejorado */
				.navbar-nav .nav-item.dropdown > .nav-link:after {
					content: "";
					display: inline-block;
					width: 8px;
					height: 8px;
					margin-left: 8px;
					border-right: 2px solid #fff;
					border-bottom: 2px solid #fff;
					transform: rotate(45deg);
					transition: transform 0.3s ease, margin 0.3s ease;
					position: relative;
					top: -2px;
				}

			.navbar-nav .nav-item.dropdown:hover > .nav-link:after {
				transform: rotate(-135deg);
				margin-top: 3px;
			}

		/* Menú desplegable con efectos avanzados */
		.navbar-nav .dropdown-menu {
			background: linear-gradient(to bottom, rgba(40, 40, 40, 0.98), rgba(30, 30, 30, 0.98));
			border-radius: 8px;
			border: none;
			padding: 0.8rem 0;
			margin-top: 0.8rem;
			box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5), 0 2px 5px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.1);
			width: 240px;
			transform-origin: top center;
			transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
			opacity: 0;
			visibility: hidden;
			transform: translateY(10px) scale(0.98);
			backdrop-filter: blur(5px);
			position: absolute;
		}

			.navbar-nav .dropdown-menu.show,
			.navbar-nav .nav-item.dropdown:hover .dropdown-menu {
				opacity: 1;
				visibility: visible;
				transform: translateY(0) scale(1);
			}

			/* Decoración y separador en el menú desplegable */
			.navbar-nav .dropdown-menu:before {
				content: "";
				position: absolute;
				top: -6px;
				left: 20px;
				width: 12px;
				height: 12px;
				background: rgba(35, 35, 35, 0.98);
				transform: rotate(45deg);
				border-top: 1px solid rgba(255, 255, 255, 0.1);
				border-left: 1px solid rgba(255, 255, 255, 0.1);
				z-index: -1;
			}

			/* Estilos para los enlaces dentro del menú desplegable */
			.navbar-nav .dropdown-menu .nav-link {
				padding: 0.85rem 1.5rem;
				margin: 0 0.5rem;
				border-radius: 6px;
				color: rgba(255, 255, 255, 0.85) !important;
				font-size: 0.95rem;
				font-weight: 500;
				letter-spacing: 0.3px;
				transition: all 0.25s ease;
				display: flex;
				align-items: center;
			}

				.navbar-nav .dropdown-menu .nav-link:hover {
					background-color: rgba(255, 255, 255, 0.1);
					color: #ffffff !important;
					transform: translateX(5px);
					box-shadow: inset 3px 0 0 #2c3e50;
				}

				/* Iconos para las opciones del menú */
				.navbar-nav .dropdown-menu .nav-link i {
					margin-right: 10px;
					font-size: 1.1rem;
					opacity: 0.7;
					transition: opacity 0.3s;
				}

				.navbar-nav .dropdown-menu .nav-link:hover i {
					opacity: 1;
				}

		/* Animación para el menú activo */
		.navbar-nav .nav-item.dropdown.active > .nav-link {
			background-color: rgba(255, 255, 255, 0.15);
		}

		/* Responsive design para dispositivos móviles */
					media (max-width: 991px) {
			.navbar-nav .dropdown-menu

		{
			background: rgba(25, 25, 25, 0.95);
			border: none;
			margin-top: 0;
			margin-bottom: 10px;
			box-shadow: inset 0 3px 8px rgba(0, 0, 0, 0.2);
			width: 100%;
			padding: 0.5rem;
		}

		.navbar-nav .dropdown-menu:before {
			display: none;
		}

		.navbar-nav .dropdown-menu .nav-link {
			padding: 0.7rem 1rem;
			margin: 2px 0;
		}

		.navbar-nav .nav-item.dropdown > .nav-link:after {
			position: absolute;
			right: 15px;
			top: 50%;
			margin-top: -6px;
		}

		}
		.dropdown-menu .nav-link:hover {
			box-shadow: 0 0 10px rgba(255, 255, 255, 0.7);
			background-color: rgba(0, 0, 0, 0.1); /* Si deseas un pequeño fondo oscuro */
		}
		.dropdown-menu {
			width: 250px; /* O usa min-width: 250px */
		}
		.login-body {
			/* https://img.freepik.com/fotos-premium/vista-interior-almacen_103577-1372.jpg */
			background: url('https://www.scmlogistica.es/wp-content/uploads/tipos-almacenes-mas-habituales-1038x693.jpg') no-repeat center center;
			background-size: cover; /* Para que cubra toda la pantalla */
			background-attachment: fixed; /* Mantener fija la imagen */
		}


		.navbar-fixed-top {
			top: auto;
		}

		#mobirisePromo.container-banner {
			height: 11rem;
			opacity: 1;
			-webkit-animation: 11s linear animationHeight;
			-moz-animation: 11s linear animationHeight;
			-o-animation: 11s linear animationHeight;
			animation: 11s linear animationHeight;
			transition: all 0.5s;
		}

			#mobirisePromo.container-banner.container-banner-closing {
				pointer-events: none;
				height: 0;
				opacity: 0;
				-webkit-animation: 0.5s linear animationClosing;
				-moz-animation: 0.5s linear animationClosing;
				-o-animation: 0.5s linear animationClosing;
				animation: 0.5s linear animationClosing;
			}

		#mobirisePromo .banner {
			min-height: 11rem;
			position: fixed;
			top: 0;
			left: 0;
			right: 0;
			background: #fff;
			padding: 10px;
			opacity: 1;
			-webkit-animation: 11s linear animationBanner;
			-moz-animation: 11s linear animationBanner;
			-o-animation: 11s linear animationBanner;
			animation: 11s linear animationBanner;
			z-index: 1031;
			display: flex;
			flex-direction: column;
			justify-content: center;
		}
		/* Modifica esta parte en tus estilos */
		.navbar-nav .dropdown-menu {
			margin-top: 0.2rem; /* Reduce este valor para acercar el dropdown al nav */
			/* Resto de tus estilos... */
		}

			/* También ajusta el triángulo decorativo si es necesario */
			.navbar-nav .dropdown-menu:before {
				top: -6px; /* Puedes reducir este valor para mover el triángulo hacia arriba */
			}

			#mobirisePromo .banner p {
				overflow: hidden;
				display: -webkit-box;
				-webkit-line-clamp: 4;
				-webkit-box-orient: vertical;
				animation: none;
				visibility: visible;
			}

		#mobirisePromo .buy-license {
			text-decoration: underline;
		}

		#mobirisePromo .banner .btn {
			margin: 0.3rem 0.5rem;
			animation: none;
			visibility: visible;
		}

		.navbar.opened {
			z-index: 1032;
		}

		#mobirisePromo .mbr-section-abuse-report {
			margin-top: 0.8rem;
			font-size: 80%;
		}

			#mobirisePromo .mbr-section-abuse-report a {
				color: #aaa;
			}
	</style>
</head>
<body class="@ViewData["BodyClass"]">
	@if (!isLoginPage && tiendaId != null)
	{
		<!-- Si el usuario está logueado, mostramos el layout completo con la barra de navegación -->
		<header>
			<section class="menu cid-sgSlEYA9q5" once="menu" id="menu-0">
				<nav class="navbar navbar-expand beta-menu navbar-dropdown align-items-center navbar-toggleable-sm">
					<button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
						<div class="hamburger">
							<span></span>
							<span></span>
							<span></span>
							<span></span>
						</div>
					</button>
					<div class="menu-logo">
						<div class="navbar-brand">

							<span class="navbar-caption-wrap"><a class="navbar-caption text-white display-5" href="#">Inventario</a></span>
						</div>
					</div>
					<div class="collapse navbar-collapse" id="navbarSupportedContent">
						<ul class="navbar-nav nav-dropdown" data-app-modern-menu="true">
							<li class="nav-item">
								<a class="nav-link link mbr-bold text-white display-7" asp-controller="AlertasStocks" asp-action="Calendar">Home </a>
							</li>

							<li class="nav-item dropdown">
								<a class="nav-link link mbr-bold text-white display-7" href="#" data-toggle="dropdown-submenu" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
									Productos
								</a>
								<div class="dropdown-menu" aria-labelledby="dropdown-productos">
									<a class="nav-link link text-white" asp-controller="Productos" asp-action="Index">
										<i class="fas fa-box-open mr-2"></i> Ver productos
									</a>
									<a class="nav-link link text-white" asp-controller="Productos" asp-action="Create">
										<i class="mbri-plus"></i> Añadir productos
									</a>
								</div>
							</li>

							<!-- Elemento dropdown mejorado para "Proveedores" -->
							<li class="nav-item dropdown">
								<a class="nav-link link mbr-bold text-white display-7" href="#" data-toggle="dropdown-submenu" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
									Proveedores
								</a>
								<div class="dropdown-menu" aria-labelledby="dropdown-proveedores">
									<a class="nav-link link text-white" asp-controller="Proveedores" asp-action="Index">
										<i class="mbri-delivery"></i> Ver proveedores
									</a>
									<a class="nav-link link text-white" asp-controller="Proveedores" asp-action="Create">
										<i class="mbri-plus"></i> Añadir proveedores
									</a>
								</div>
							</li>
							<li class="nav-item">
								<a class="nav-link link mbr-bold text-white display-7" asp-controller="AlertasStocks" asp-action="Create">Añadir alerta </a>
							</li>
							<li class="nav-item">
								<a class="nav-link link mbr-bold text-white display-7" asp-controller="Pedidos" asp-action="Index">Pedidos </a>
							</li>
							<li class="nav-item dropdown">
								<a class="nav-link link mbr-bold text-white display-7" href="#" data-toggle="dropdown-submenu" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
									Ventas
								</a>
								<div class="dropdown-menu" aria-labelledby="dropdown-ventas">
									<a class="nav-link link text-white" asp-controller="DetallesVentas" asp-action="Index">
										<i class="mbri-shopping-cart"></i> Ver ventas
									</a>
									<a class="nav-link link text-white" asp-controller="DetallesVentas" asp-action="Create">
										<i class="mbri-plus"></i> Añadir venta
									</a>
								</div>
							</li>
						</ul>
						<div class="navbar-buttons mbr-section-btn">
							<a class="btn btn-md btn-secondary display-7" asp-controller="Tiendas" asp-action="Index">
								<i class="fas fa-store"></i>&nbsp;&nbsp;Perfil tienda
								</a>
						</div>
					</div>
				</nav>
			</section>
		</header>
	}

	<div class="container">
		<main role="main" class="pb-3">
			@RenderBody()
		</main>
	</div>


	<script src="https://r.mobirisesite.com/1228755/assets/web/assets/jquery/jquery.min.js?rnd=1740240563993"></script>
	<script src="https://r.mobirisesite.com/1228755/assets/popper/popper.min.js?rnd=1740240563993"></script>
	<script src="https://r.mobirisesite.com/1228755/assets/tether/tether.min.js?rnd=1740240563993"></script>
	<script src="https://r.mobirisesite.com/1228755/assets/bootstrap/js/bootstrap.min.js?rnd=1740240563993"></script>
	<script src="https://r.mobirisesite.com/1228755/assets/smoothscroll/smooth-scroll.js?rnd=1740240563993"></script>
	<script src="https://r.mobirisesite.com/1228755/assets/dropdown/js/nav-dropdown.js?rnd=1740240563993"></script>
	<script src="https://r.mobirisesite.com/1228755/assets/dropdown/js/navbar-dropdown.js?rnd=1740240563993"></script>
	<script src="https://r.mobirisesite.com/1228755/assets/touchswipe/jquery.touch-swipe.min.js?rnd=1740240563993"></script>
	<script src="https://r.mobirisesite.com/1228755/assets/bootstrapcarouselswipe/bootstrap-carousel-swipe.js?rnd=1740240563993"></script>
	<script src="https://r.mobirisesite.com/1228755/assets/mbr-clients-slider/mbr-clients-slider.js?rnd=1740240563993"></script>
	<script src="https://r.mobirisesite.com/1228755/assets/mbr-testimonials-slider/mbr-testimonials-slider.js?rnd=1740240563993"></script>
	<script src="https://r.mobirisesite.com/1228755/assets/playervimeo/vimeo_player.js?rnd=1740240563993"></script>
	<script src="https://r.mobirisesite.com/1228755/assets/theme/js/script.js?rnd=1740240563993"></script>
	<script src="https://r.mobirisesite.com/1228755/assets/pauseVideo/script.js?rnd=1740240563993"></script>
	<script src="https://r.mobirisesite.com/1228755/assets/formoid.min.js?rnd=1740240563993"></script>
	<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js'></script>
	<script src="https://r.mobirisesite.com/1228853/assets/web/assets/jquery/jquery.min.js?rnd=1741923534718"></script>
	<script src="https://r.mobirisesite.com/1228853/assets/bootstrap/js/bootstrap.bundle.min.js?rnd=1741923534718"></script>
	<script src="https://r.mobirisesite.com/1228853/assets/smoothscroll/smooth-scroll.js?rnd=1741923534718"></script>
	<script src="https://r.mobirisesite.com/1228853/assets/ytplayer/index.js?rnd=1741923534718"></script>
	<script src="https://r.mobirisesite.com/1228853/assets/dropdown/js/navbar-dropdown.js?rnd=1741923534718"></script>
	<script src="https://r.mobirisesite.com/1228853/assets/theme/js/script.js?rnd=1741923534718"></script>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/js/all.min.js"></script>
	@await RenderSectionAsync("Scripts", required: false)
	<script>
		$(document).ready(function() {
			// Compatibilidad con mouse y táctil
			if ($(window).width() > 991) {
				// Para desktop: mostrar dropdown al pasar el mouse
				$('.navbar-nav .nav-item.dropdown').hover(
					function() {
						$(this).addClass('show');
						$(this).find('.dropdown-menu').addClass('show');
					},
					function() {
						$(this).removeClass('show');
						$(this).find('.dropdown-menu').removeClass('show');
					}
				);
			} else {
				// Para dispositivos móviles: toggle al hacer clic
				$('.navbar-nav .nav-item.dropdown > .nav-link').on('click', function(e) {
					e.preventDefault();
					e.stopPropagation();

					const $parent = $(this).parent();
					const isOpen = $parent.hasClass('show');

					// Cerrar todos los otros dropdowns
					$('.navbar-nav .nav-item.dropdown').removeClass('show');
					$('.navbar-nav .dropdown-menu').removeClass('show');

					// Abrir/cerrar el actual
					if (!isOpen) {
						$parent.addClass('show');
						$parent.find('.dropdown-menu').addClass('show');
					}
				});
			}

			// Cierra dropdowns cuando se hace clic fuera
			$(document).on('click', function(e) {
				if (!$(e.target).closest('.navbar-nav .nav-item.dropdown').length) {
					$('.navbar-nav .nav-item.dropdown').removeClass('show');
					$('.navbar-nav .dropdown-menu').removeClass('show');
				}
			});

			// Efecto de focus para accesibilidad
			$('.navbar-nav .dropdown-menu .nav-link').on('focus', function() {
				$(this).closest('.dropdown-menu').addClass('show');
				$(this).closest('.nav-item.dropdown').addClass('show');
			}).on('blur', function() {
				if (!$(this).closest('.nav-item.dropdown').is(':hover')) {
					$(this).closest('.dropdown-menu').removeClass('show');
					$(this).closest('.nav-item.dropdown').removeClass('show');
				}
			});
		});
	</script>
	<div id="scrollToTop" class="scrollToTop mbr-arrow-up"><a style="text-align: center;"><i></i></a></div>
</body>
</html>


