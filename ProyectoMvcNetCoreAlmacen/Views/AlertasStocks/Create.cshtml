@model NugetProyectoAlmacen.Models.AlertaStock

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script>
	$(document).ready(function () {
		$("form").submit(function (event) {
			event.preventDefault(); // Evita la recarga de la página

			$.ajax({
				type: "POST",
				url: $(this).attr("action"),
				data: $(this).serialize(),
				success: function (response) {
					if (response.success) {
						   Swal.fire({
		title: "¡Perfecto!",
		text: response.message,
		icon: "success",
		confirmButtonText: "Aceptar",
		customClass: {
			confirmButton: "swal-confirm-orange"
		}
	}).then(() => {
		window.location.href = response.redirectUrl;
	});
					}
				}
			});
		});
	});
</script>
<section class="features2 cid-sgSyF0EE4Z" id="features2-d">
	<section class="form1 cid-sgSoZHg9Zb features2 cid-sgSyF0EE4Z" id="form1-a features2-d">
		<div class="container">
			<div class="row justify-content-center">
				<div class="col-lg-6 col-md-9 block-content">
					<div class="form-block">
						<h4 class="mbr-fonts-style mbr-section-title mbr-fonts-style mbr-bold display-2" style="font-size:50px">Añadir alerta</h4>
						<div data-form-type="formoid">
							<form method="post" enctype="multipart/form-data" class="mbr-form form-with-styler" data-form-title="Mobirise Form">

								<div class="dragArea form-row">
									<div class="col-md-12  form-group">
										<label asp-for="IdProducto" class="form-control-label mbr-fonts-style mbr-bold display-7">Producto</label>
										<select asp-for="IdProducto" asp-items="ViewBag.Productos" class="form-control input display-7">
											<option value="">Seleccione un producto</option>
										</select>
										<span asp-validation-for="IdProducto" class="text-danger"></span>
									</div>
									
									<div class="col-md-12  form-group">
										<label asp-for="FechaAlerta" class="form-control-label mbr-fonts-style mbr-bold display-7"></label>
										<input asp-for="FechaAlerta" class="form-control input display-7" />
										<span asp-validation-for="FechaAlerta" class="text-danger"></span>
									</div>
									<div class="col-md-12  form-group">
										<label asp-for="Descripcion" class="form-control-label mbr-fonts-style mbr-bold display-7"></label>
										<input asp-for="Descripcion" class="form-control input display-7" />
										<span asp-validation-for="Descripcion" class="text-danger"></span>
									</div>
									<div class="col-md-12 input-group-btn"><button type="submit" class="btn btn-form btn-bgr btn-info display-4">Añadir alerta</button></div>
								</div>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
</section>

<style>
	.swal-confirm-orange {
		background-color: #f28b00 !important;
		color: white !important;
	}
</style>